<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/frame-10-full-width.xhtml">
    <ui:define name="title">Demo</ui:define>
    <ui:define name="content">

      <h3>
        Demo Decision Maker
      </h3>

      <h:form id="form">
        <div class="w-full flex mb-4">
            <p:inputText value="#{data.message}" styleClass="w-80 mr-3 flex-auto" />
        	<p:commandButton value="Decide" actionListener="#{logic.decide}" update="@form" process="@form" />
        </div>
        <h:panelGroup layout="block" rendered="#{data.selectedOption ne null}" styleClass="w-full mb-4">
        	<h:outputText value="#{data.selectedOption.id} : #{data.selectedOption.condition}" />
        </h:panelGroup>
        <ui:repeat var="option" value="#{data.options}" varStatus="status">
        	<div class="w-full flex mb-3">
	          <div class="col-3 p-0 pl-2 flex align-items-center">
	            <h:outputText value="Option #{status.index + 1}" styleClass="mr-3" />
	            <p:inputText value="#{option.id}" placeholder="ID" styleClass="flex-auto" />
	          </div>
	          <div class="col-7 p-0 pl-3 ui-fluid flex-auto">
	            <p:inputText value="#{option.condition}" placeholder="Condition" />
	          </div>
	        </div>
        </ui:repeat>
        <div class="w-full">
        	<p:commandButton value="Add" process="@form" update="@form" actionListener="#{logic.addNewOption}" />
        </div>
      </h:form>
    </ui:define>
  </ui:composition>
</h:body>

</html>
